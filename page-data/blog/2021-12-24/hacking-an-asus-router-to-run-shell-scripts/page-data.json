{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/blog/2021-12-24/hacking-an-asus-router-to-run-shell-scripts/",
    "result": {"data":{"site":{"siteMetadata":{"title":"Adrian L Thomas"}},"markdownRemark":{"id":"36150032-737d-5c23-9f85-287d7143ace6","excerpt":"curl doesn’t exist in BusyBox by default, but there is a way to do it - and it’s simpler than you may think! BusyBox is an executable that typically gets used…","html":"<p>curl doesn’t exist in BusyBox by default, but there is a way to do it - and it’s simpler than you may think!</p>\n<p>BusyBox is an executable that typically gets used in low powered devices like routers, it gives you basic commands like <code class=\"language-text\">cd</code> or <code class=\"language-text\">ls</code> but if you want to <code class=\"language-text\">curl</code> something from the internet (e.g. HTTP POST): you can’t. There’s no package manager, and it’s very awkward to do manually with netcat / raw TCP.</p>\n<p>You do have wget, but it doesn’t provide HTTP POST behaviour, but it does let you HTTP GET… a pre-built curl binary!</p>\n<p>First, find out what CPU architecture you’re on:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">$ arch\nx86_64</code></pre></div>\n<p>Here we’re running 64bit x86, but you may be running ARM or some other architecture. Head to <a href=\"https://curl.se/download.html\">curl.se</a> and pick the <em>binary</em> for your flavour. It’ll take you to the GitHub page to download it: copy the URL for your binary.</p>\n<p>Then simply wget the url! don’t forget to make it executable</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">wget</span> https://github.com/moparisthebest/static-curl/releases/download/v7.80.0/curl-amd64\n<span class=\"token function\">chmod</span> +x ./curl-amd64\n./curl-amd64 -X POST --insecure https://ptsv2.com/t/57y8r-1640280329/post</code></pre></div>\n<p>Note: As CA certificates aren’t installed either, I needed to pass the <code class=\"language-text\">--insecure</code> flag. Ideally you should <a href=\"https://stackoverflow.com/questions/45388934/how-do-i-make-an-https-call-in-a-busybox-docker-container-running-go\">make them available</a> to BusyBox.</p>","frontmatter":{"title":"Running curl in BusyBox","date":"December 24, 2021","description":"curl doesn't exist in BusyBox by default, but there is a way to do it - and it's simpler than you may think!"}},"previous":{"fields":{"slug":"/blog/2021-12-23/hacking-an-asus-router-to-run-shell-scripts/"},"frontmatter":{"title":"Hacking an Asus router to run regular shell scripts on boot"}},"next":null},"pageContext":{"id":"36150032-737d-5c23-9f85-287d7143ace6","previousPostId":"1881dd6e-f671-5ccb-a492-04e9a08f3988","nextPostId":null}},
    "staticQueryHashes": ["2188205249","223224310","24654591"]}