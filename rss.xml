<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Adrian L Thomas]]></title><description><![CDATA[Pizza, programming and cars - sometimes in that order.]]></description><link>https://www.adrian-thomas.com</link><generator>GatsbyJS</generator><lastBuildDate>Thu, 23 Dec 2021 17:15:04 GMT</lastBuildDate><item><title><![CDATA[Hacking an Asus router to run regular shell scripts on boot]]></title><description><![CDATA[Asus routers let you SSH in to them for remote management. In this post you’ll learn how to run a shell command to run any scripts you want…]]></description><link>https://www.adrian-thomas.com/blog/2021-12-23/hacking-an-asus-router-to-run-shell-scripts/</link><guid isPermaLink="false">https://www.adrian-thomas.com/blog/2021-12-23/hacking-an-asus-router-to-run-shell-scripts/</guid><pubDate>Thu, 23 Dec 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Asus routers let you SSH in to them for remote management. In this post you’ll learn how to run a shell command to run any scripts you want (e.g. routine backup scripts).&lt;/p&gt;
&lt;p&gt;I wanted to backup some files on an external disk attached to the router, and store them in DropBox. It’s possible by SSH’ing in to the router, writing the script to flash memory (so it isn’t erased on reboot), and configuring it to run when a USB device is connected.&lt;/p&gt;
&lt;p&gt;First, navigate to your router admin page, go to the Administration Settings and enable login via SSH. It will look something like this:
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/c9339882218731f4c604e160f46e4d77/ffe34/router-ssh-config.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 87.34177215189874%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAIAAABSJhvpAAAACXBIWXMAAA7DAAAOwwHHb6hkAAADDElEQVQ4y12SS2/iVhiGzSbRVGpVddFFMrtKHY2Gi7kZsI2NjS9gsHECmGObY2yDb8eAmUmAhkx/Qpf9vy2kjTIjPYuzefS+3/cdrEDQvNxnBSmPV7oDzU2z8WKpmnAI5ka49XYHM9mCeGP+D4jWcPOF7mu3nwiM4CR9Bgb3kxbDcX3VSTZ3tiuPQVebmPF6vn2YhmgWoWmYvjAJkIkysqfe5gmsISrKaNSiyFKl/BGvVtqd30vVD+X6b4WSOLWMJFMsqwcm/MTkLnTGQDBsnBXeFxoYBzPvz7/h8S8BPkqje3e9023vDvr63IPpLnh8slFmJlsL/YeZbN3dY1sZ3ZxrK0BxNoKxxNkBIyuTxZLX7nltzA50I0DB8Xm5fwqPX1eH59X+5D38AVA2jTcteXiuXedlSel1+E6xXPpUrZNijxZ7dYb/gNckwxoHiRGlRryZBEj3w/tVMoS+aDrljniu/eMvv15dXV+/++Hq+rpINGlZITpCje0WCFJzlt7j0wxlAO1ml0AjyYaLlQL9Ki+/zzewdz/9jGEYlsthGFaoN5nesEyxxVa7QJCq7QKU3flR33ZfkQDsQ7/KSd/LeJPih3qF7uAUW2xQirUAKDMjX4W2BBzZPCOZziX5rYyd5XyN4AYaJfSKTepjlZAMZxxluhuM3EACUDBswbC7U0u2nMrLzC9y7pLcVXUn3U28QIe+ai5stIW7o5VmJtq+ApINzB5o5fLD3sp8VzLnnqhovYEu9zXbi9z13lolMy8EfvTCzAthmDLi4Hyqt7Vb5RrTEYoVokKQxXJdB9DffB6CuWJYr/SnpgZgu83fFr5dGEm0mL5a6wglis03ac2B1joewpnqgNFipjrnxwCC/tylWeGNfPFreLXFyzWGL11OpQBoxDsjQPfLZBKgaYCmIRqvklmU8l355rttN8p1WlJwksVJptCg7hw/Op7C/Sk+fo0Op/h4ig/P0eE53j/JonLzzcy5XLNc63Jiq0lTJNMgyJm1SHf7JI2DOHYD5IepFyI3SJZRynHSv8n/AFcyG1qmONNYAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Router SSH Config&quot;
        title=&quot;Router SSH Config&quot;
        src=&quot;/static/c9339882218731f4c604e160f46e4d77/f058b/router-ssh-config.png&quot;
        srcset=&quot;/static/c9339882218731f4c604e160f46e4d77/c26ae/router-ssh-config.png 158w,
/static/c9339882218731f4c604e160f46e4d77/6bdcf/router-ssh-config.png 315w,
/static/c9339882218731f4c604e160f46e4d77/f058b/router-ssh-config.png 630w,
/static/c9339882218731f4c604e160f46e4d77/40601/router-ssh-config.png 945w,
/static/c9339882218731f4c604e160f46e4d77/ffe34/router-ssh-config.png 1055w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Then SSH in to it. The router is running BusyBox which is a very lightweight Linux executable used for embedded systems. It gives you some very basic utilities [1] (sorry, don’t even expect nano!).&lt;/p&gt;
&lt;p&gt;The filesystem is running in RAM, which obviously resets on reboot. However, if we write to the &lt;code class=&quot;language-text&quot;&gt;/jffs&lt;/code&gt; path, it will be written to flash memory - this is perfect to persist a script that could run on boot.&lt;/p&gt;
&lt;p&gt;There is one problem, if this is the only area we can persist data, how do we actually run a script on boot? Well, we can write to NVRAM (non-volatile RAM). NVRAM is stores key/value pairs, such as your WiFi password, public SSH keys, SSID, etc. but we can use it to set a small command that runs when a USB device is mounted (e.g. on boot) [2].&lt;/p&gt;
&lt;p&gt;Here are some of the WiFi settings if you grep the &lt;code class=&quot;language-text&quot;&gt;nvram show&lt;/code&gt; command:
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/58ff8f9c60640f2213a39ba1900802d9/0d6fe/wifi-settings.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 32.278481012658226%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAyElEQVQY03XJwWqEMBQF0JAELcYsJiLWjRhkJublaf/L6iL9BWlHwY8eSBhx07O43Hcfef79btu27/txHOu6eu9/3rz336d5DjEvyzKHPk0TaZpGa911XVmWUsosyz6CNE2TJKGUcs4ZY9fCGOOcU0oJAHwFAGCMsdb2fQ8A1loAcM4hYizDMDjn4o6IWmtirUXEc42MMY/gHmitjTH3t7jXdU0QcRzHtm2rqvoMlFJCiOwf50sIQYqiuF0opaSUeZ7Li3heM5YXHFM3vDbeEO8AAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;nvram show&quot;
        title=&quot;nvram show&quot;
        src=&quot;/static/58ff8f9c60640f2213a39ba1900802d9/f058b/wifi-settings.png&quot;
        srcset=&quot;/static/58ff8f9c60640f2213a39ba1900802d9/c26ae/wifi-settings.png 158w,
/static/58ff8f9c60640f2213a39ba1900802d9/6bdcf/wifi-settings.png 315w,
/static/58ff8f9c60640f2213a39ba1900802d9/f058b/wifi-settings.png 630w,
/static/58ff8f9c60640f2213a39ba1900802d9/40601/wifi-settings.png 945w,
/static/58ff8f9c60640f2213a39ba1900802d9/0d6fe/wifi-settings.png 1115w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The magic parameter we want to set is &lt;code class=&quot;language-text&quot;&gt;script_usbmount&lt;/code&gt; to run a command when a USB device is mounted.&lt;/p&gt;
&lt;p&gt;So, putting it altogether, this is what it would look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;cd&lt;/span&gt; /jffs &lt;span class=&quot;token comment&quot;&gt;# Change directory to flash memory&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;#!/bin/sh&quot;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; ./my-script.sh &lt;span class=&quot;token comment&quot;&gt;# Append shell shebang to .my-script.sh in flash memory&lt;/span&gt;
&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;while :; do echo &quot;do something&quot;; sleep 86400; done&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&gt;&gt;&lt;/span&gt; ./my-script.sh &lt;span class=&quot;token comment&quot;&gt;# append command&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;chmod&lt;/span&gt; +x ./my-script.sh &lt;span class=&quot;token comment&quot;&gt;# make the script executable&lt;/span&gt;
nvram &lt;span class=&quot;token builtin class-name&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;token assign-left variable&quot;&gt;script_usbmount&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;sh /jffs/my-script.sh&quot;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# set the parameter to execute when a USB device is mounted&lt;/span&gt;
nvram commit &lt;span class=&quot;token comment&quot;&gt;# commit the parameter to non-volatile memory&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;service&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;reboot&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;# reboot the router&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I’m using echo with output redirection to write to a file called &lt;code class=&quot;language-text&quot;&gt;my-script.sh&lt;/code&gt;. I’m terrible with Vim (which &lt;em&gt;is&lt;/em&gt; available) so this works well enough for me, but feel free to use Vim if you’re comfortable with it. I’ve excluded the actual backup script as that’s worthy of an entire blog post. In a nutshell, when a usb device is mounted the command in &lt;code class=&quot;language-text&quot;&gt;script_usbmount&lt;/code&gt; is executed.  It indefinitely loops, and echo’s &lt;code class=&quot;language-text&quot;&gt;&quot;do something&quot;&lt;/code&gt; then sleeps for 24 hours (&lt;code class=&quot;language-text&quot;&gt;86400&lt;/code&gt;s). Obviously this script could contain any code you wanted to reasonably run.&lt;/p&gt;
&lt;p&gt;That’s it!&lt;/p&gt;
&lt;p&gt;Sources:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://www.busybox.net/downloads/BusyBox.html#commands&quot;&gt;https://www.busybox.net/downloads/BusyBox.html#commands&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://www.snbforums.com/threads/how-to-run-cron-and-other-scripts-on-startup.69063/#post-648945&quot;&gt;https://www.snbforums.com/threads/how-to-run-cron-and-other-scripts-on-startup.69063/#post-648945&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;</content:encoded></item><item><title><![CDATA[Golang for the Node Guy]]></title><description><![CDATA[This was an original piece I wrote for DAZN’s internal blog earlier in the year, that I’ve adapted for a public audience. In our team we…]]></description><link>https://www.adrian-thomas.com/blog/2021-10-30/golang-for-the-node-guy/</link><guid isPermaLink="false">https://www.adrian-thomas.com/blog/2021-10-30/golang-for-the-node-guy/</guid><pubDate>Sat, 30 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/1c8b04aa30b14371c785b989efa15dec/00d43/gophernode.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAIAAAAC64paAAAACXBIWXMAAAsTAAALEwEAmpwYAAAD50lEQVQ4y22U7U9adxTH+y/szV7uxV50WUzd0kXnQ1uf2miYTqFzWNeHSRzZdN1ao85mE4dataioo9qhUagPULzoBa3aDnyIxVKwqVoHAqIooHh5KktFuJd7728RdcV2Jyf5neTkk3PO95dzToBII0mSIABJgneNJA+zEXYCABDC8WAwGNjbQzGMAAALhfy7r30uBLGYt016h9ngcyEhHA/hOE6QgUAgGAxiGHYEh0J+v58EYGNpXnHvzlhTpbiM0cnI7LiczvvmAi//vKCIPsZljTVXWnWLGEHs7e29gTEMQ0P4ytxUN5PalPlZc05cY04ih3amnnrudvaZakpMRXpMNSWmMSu2PS/FqJ5BcQINBvdhMjzhhn6Zn5/Kyz3b8FUq71Ia52JSPS2ZnZnAykmpLWb+lJ74CyWhkZ7WnP05zCo+aDZcOQx381rocVG0+Oi0Tz7Kjj31RVx0UtSHBRnJlazbjOKSjPjTydEnMz6Nyo49RT93Wjr4YHd3903befSLSR9/UHuzWNhRDw3wdAsLhZe/ZpaxKu7cTU8/r9U+Uykfcaq/ZVLimVcuJSbEbtlt+zARVl8k6r+eR3Ws6uWrucL5OADAiGxEOK6WaS31jZz9uf5RcGffg6cYGpW2oa4GAEAQxCEMw9LqajYAoFeb0qI4CQA6JIWZpawbbO6vVVUAgDW3omny/RWfcF6z0NH+BwAAx/HDmVeNBuqXlPU1Cwq8AQLxvw4UXMmjZV64WVSQlZGqVCoAAH5sBwBQV1sjlw0fVj6QDkPRiopyak5WeUnJrbLya1fzrxZ+z6n7/S63rvy3Khot5+frP1SUln5XWMBgXPN6PTiOHwpGEKTP6x6QP+4ZV7f2wVyBtHtkdliz3glNNPH7BudMgzMveZJHbQOjXfInXZJRj9uF48QRTJIet7MHeghr1uXPrfIX2/D8BjT9AlaqIcVTycxS58hcm0DCl4zLn1vviWQuJ3Kg1BHsQgTQQ4nKxBfc7+nm90FwDbvqbHxMLi37VknRUxHb8bhuuPXG/b8W+A9GXcjO27BwaKJ/cglq/nEdrlQJyqWD4mWdXqfTj48OD3XVSrqb2loaxNMvO0Qjzv+BpeOQaqXlzx5Bby8ED9vsNse2fcu+iXh8UwsW0fSyeNYg066198ucyDttd4nl4idGSG3WrrmXba/WHF6z1WG276xsIovrO8pFS//kkmTO1CqUHq9MEL5X3kmVRmPceqbbMFoRk81psDpNNpfR6jJYneYt99+WHbV+U2vanphRez0RX4XjoUAgsL+XYUfRIIoG99+I4L8shqHHjkHkFSLDK/qWH8tGHKl/AXO9kOzAxBNhAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Gophernode&quot;
        title=&quot;Gophernode&quot;
        src=&quot;/static/1c8b04aa30b14371c785b989efa15dec/f058b/gophernode.png&quot;
        srcset=&quot;/static/1c8b04aa30b14371c785b989efa15dec/c26ae/gophernode.png 158w,
/static/1c8b04aa30b14371c785b989efa15dec/6bdcf/gophernode.png 315w,
/static/1c8b04aa30b14371c785b989efa15dec/f058b/gophernode.png 630w,
/static/1c8b04aa30b14371c785b989efa15dec/40601/gophernode.png 945w,
/static/1c8b04aa30b14371c785b989efa15dec/00d43/gophernode.png 1000w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This was an original piece I wrote for DAZN’s internal blog earlier in the year, that I’ve adapted for a public audience.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In our team we recently created a small new API in Go, to provide editorial teams a more reliable search experience when curating content. In this post, I wanted to share some experiences from starting afresh with Go, through the lens of doing Node.js development.&lt;/p&gt;
&lt;p&gt;I’m not advocating to take what you do in Node and take the same approach in Go, but to simply explain the concepts against something you already know and how they are different.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;You’ll get to read my opinions about:
&lt;ul&gt;
&lt;li&gt;Why Go?&lt;/li&gt;
&lt;li&gt;Go vs Node: Building, linting and testing&lt;/li&gt;
&lt;li&gt;Dealing with private modules&lt;/li&gt;
&lt;li&gt;Learning materials&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;I won’t be writing about
&lt;ul&gt;
&lt;li&gt;How to setup your dev environment&lt;/li&gt;
&lt;li&gt;How to build your first http server, etc etc (lots of other blog posts and content are available online for this)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Why Go?&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&quot;https://golang.org/AUTHORS&quot; target=&quot;_blank&quot;&gt;Go Authors&lt;/a&gt; set out a set of values for the language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Thoughtful&lt;/li&gt;
&lt;li&gt;Simple&lt;/li&gt;
&lt;li&gt;Efficient&lt;/li&gt;
&lt;li&gt;Reliable&lt;/li&gt;
&lt;li&gt;Productive&lt;/li&gt;
&lt;li&gt;Friendly&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Which I feel is a really human way to describe a technical topic like a programming language, and it also resonates throughout the Go community itself, and is documented in the &lt;a href=&quot;https://golang.org/conduct&quot; target=&quot;_blank&quot;&gt;Code of Conduct&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I love that Go is easy to read, has a tiny footprint (a SCRATCH Docker image is around 2mb, not far off the native binary) and can run almost anywhere: X86, ARM, MIPS, PPC, RISC-V, s390x, Web Assembly and there’s even a microcontroller version for the Arduino (TinyGo).&lt;/p&gt;
&lt;p&gt;Go is really geared up for smaller applications, like CLI’s, microservices and API’s and it also has a great concurrency model if your application needs to do heavier crunching.&lt;/p&gt;
&lt;p&gt;Here’s an example of Go’s simplicity, of how you can add a method to an existing float64 type in Go:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;go&quot;&gt;&lt;pre class=&quot;language-go&quot;&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; MyFloat &lt;span class=&quot;token builtin&quot;&gt;float64&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;m MyFloat&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Abs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;float64&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   f &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;float64&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;m&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; f &lt;span class=&quot;token operator&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;f
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; f
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
f &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;MyFloat&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;token number&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
f&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Abs&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// == 42.0&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Anyone who can write code, will be able to read this and see what it’s doing.&lt;/p&gt;
&lt;h2&gt;Go vs Node&lt;/h2&gt;
&lt;p&gt;In this section I’ll be explaining Go workflow fundamentals through the lens of a Node.js developer.&lt;/p&gt;
&lt;h3&gt;Building&lt;/h3&gt;
&lt;p&gt;Running and building code in Node.js and Go is simple:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# Run a node app:&lt;/span&gt;
node ./app.js

&lt;span class=&quot;token comment&quot;&gt;# Run a go app:&lt;/span&gt;
go run main.go

&lt;span class=&quot;token comment&quot;&gt;# or build a native binary&lt;/span&gt;
go build -o my-app main.go

&lt;span class=&quot;token comment&quot;&gt;# and execute it&lt;/span&gt;
./my-app&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When you build a Go binary, the Go runtime (garbage collection, scheduler, etc) is bundled in to the executable – this means any consumers of your app do not require the Go runtime to be installed (unlike Java, .NET and even Node.js).&lt;/p&gt;
&lt;h3&gt;Hot Restart&lt;/h3&gt;
&lt;p&gt;When developing your application, you may want to make small changes and see them immediately (for example, an API endpoint or changing HTML markup). In Node.js, you will have seen this kind of behaviour with &lt;code class=&quot;language-text&quot;&gt;nodemon&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;jest --watch&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;webpack&lt;/code&gt; etc.&lt;/p&gt;
&lt;p&gt;Unfortunately for Go, this requires a full rebuild, as unlike script based languages, the executable code can’t just be ‘swapped’ out (like you would see with a hot reload).&lt;/p&gt;
&lt;p&gt;Fortunately, Go does build quickly – and there are tools out there to give us hot restart behaviour. &lt;a href=&quot;https://github.com/gravityblast/fresh&quot; target=&quot;_blank&quot;&gt;Fresh&lt;/a&gt; is the one we have been using in our team, but &lt;a href=&quot;https://github.com/cespare/reflex&quot; target=&quot;_blank&quot;&gt;Reflex&lt;/a&gt; is another option.&lt;/p&gt;
&lt;h3&gt;REPL&lt;/h3&gt;
&lt;p&gt;Node.js’s REPL (Read Eval Print Loop) is a great tool for trying out language features, inbuilt functions and other experimentation.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;node 
Welcome to Node.js v15.11.0.
Type &lt;span class=&quot;token string&quot;&gt;&quot;.help&quot;&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;more&lt;/span&gt; information.
&lt;span class=&quot;token operator&quot;&gt;&gt;&lt;/span&gt; console.log&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;hello world&apos;&lt;/span&gt;.toUpperCase&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;))&lt;/span&gt;
HELLO WORLD&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There’s not a Go equivalent, but there is &lt;a href=&quot;https://play.golang.org/&quot; target=&quot;_blank&quot;&gt;The Go Playground&lt;/a&gt; that has pretty much the same behaviour.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/3c34e08d8444b0b75bc9f0099eaa262f/aec65/go-playground.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 53.79746835443038%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfUlEQVQoz5WRXWvbMBSG9bt7NUY3erG7QW9Wtt4UCvsHuxiMEro2ndPEiefPuGm2NVlpmthyQmJbz5Bip0thrBU8vEfvkY6OJNF0rjnvDfja6dO4DDmzY6zglteHbV4eWOy+b7F3aLGzf86rDy1evLM4/uQTDkbY3hC3f0M8krw5snn7sYcY3IQEV47BjToMRxG/7oY02t85uXQMjbbD54uu8b5YPZw4Ypr85HZyzWT2g6kcc2q7NB0PsVh0mU6/obUoXCAGQqD/iPivOKrW1BpscmK59Mhzn8XCYTxukiQ2ZRkain+gc0pFW9R7xGrlURQBee6xXLro+frk//O4qEbM5w5Z1mUyaXF/30JK28zTtGPi2axNknRIU+33TE77SoVV0XDrEJHnwSZRFL7pVD/BWj3T8foWfuX7Jtbd1F1uFXww+tUDP5UApYLqQx4QSTJCyt9oVUoC0uhTqNdqrRFSzsmyOWmasVrlKIUZtT53CKUUNWVZGgW10efyB/8FP7HF37SeAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;The Go Playground&quot;
        title=&quot;The Go Playground&quot;
        src=&quot;/static/3c34e08d8444b0b75bc9f0099eaa262f/f058b/go-playground.png&quot;
        srcset=&quot;/static/3c34e08d8444b0b75bc9f0099eaa262f/c26ae/go-playground.png 158w,
/static/3c34e08d8444b0b75bc9f0099eaa262f/6bdcf/go-playground.png 315w,
/static/3c34e08d8444b0b75bc9f0099eaa262f/f058b/go-playground.png 630w,
/static/3c34e08d8444b0b75bc9f0099eaa262f/aec65/go-playground.png 687w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3&gt;Installing Packages&lt;/h3&gt;
&lt;p&gt;Introducing packages in Go is very similar to Node:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;bash&quot;&gt;&lt;pre class=&quot;language-bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;# node&lt;/span&gt;
&lt;span class=&quot;token function&quot;&gt;npm&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;install&lt;/span&gt; express --save

&lt;span class=&quot;token comment&quot;&gt;# go&lt;/span&gt;
go get -u github.com/gorilla/mux&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Both commands will update the aforementioned package files, and you can then require/import the package and use it in your application.&lt;/p&gt;
&lt;p&gt;Node: &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;some-package&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;description&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;main&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;index.js&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;echo \&quot;Error: no test specified\&quot; &amp;amp;&amp;amp; exit 1&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;author&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;license&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;ISC&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;express&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;^4.17.1&quot;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GO: &lt;code class=&quot;language-text&quot;&gt;go.mod&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;module github.com/privateorg/some-package
go 1.15
require github.com/gorilla/mux v1.8.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Node: &lt;code class=&quot;language-text&quot;&gt;package-lock.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;some-package&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.0.0&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;lockfileVersion&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token number&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;requires&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token property&quot;&gt;&quot;dependencies&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token property&quot;&gt;&quot;accepts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;version&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;1.3.7&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;resolved&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;https://registry.npmjs.org/accepts/-/accepts-1.3.7.tgz&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;integrity&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;sha512-Il80Qs2WjYlJIBNzNkK6KYqlVMTbZLXgHx2oT0pU/fjRHyEp+PEfEPY0R3WCwAGVOtauxh1hOxNgIf5bv7dQpA==&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;token property&quot;&gt;&quot;requires&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token property&quot;&gt;&quot;mime-types&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;~2.1.24&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Go: &lt;code class=&quot;language-text&quot;&gt;go.sum&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;github.com/gorilla/mux v1.8.0 h1:i40aqfkR1h2SlN9hojwV5ZA91wcXFOvkdNIeFDP5koI=
github.com/gorilla/mux v1.8.0/go.mod h1:DVbg23sWSpFRCP0SfiEN6jmj59UnW/n46BH5rLB71So=&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;They’re not exactly the same, but pretty similar.&lt;/p&gt;
&lt;h3&gt;Scripts&lt;/h3&gt;
&lt;p&gt;npm scripts are a great way to run common commands for testing, linting, building, etc, they are a way of self documenting how to interact with the codebase, for example in &lt;code class=&quot;language-text&quot;&gt;package.json&lt;/code&gt; you could have:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;json&quot;&gt;&lt;pre class=&quot;language-json&quot;&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;token property&quot;&gt;&quot;scripts&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token property&quot;&gt;&quot;build&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./build.sh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token property&quot;&gt;&quot;dev:&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;webpack-dev-server&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token property&quot;&gt;&quot;lint&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./scripts/lint.sh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token property&quot;&gt;&quot;lint:fix&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;./scripts/lint-fix.sh&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;token property&quot;&gt;&quot;test&quot;&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;npx jest&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;then if you want to run the tests, just run &lt;code class=&quot;language-text&quot;&gt;npm test&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Go has some built in commands like &lt;code class=&quot;language-text&quot;&gt;go test&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;go build&lt;/code&gt;, but it doesn’t have an npm scripts equivalent. A typical ‘go to’ is &lt;code class=&quot;language-text&quot;&gt;Make&lt;/code&gt;; everyone has it installed already (but it can get ugly, quick, and you may fallback to shell scripts):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;makefile&quot;&gt;&lt;pre class=&quot;language-makefile&quot;&gt;&lt;code class=&quot;language-makefile&quot;&gt;&lt;span class=&quot;token symbol&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   go build -o my-app main.go
&lt;span class=&quot;token symbol&quot;&gt;dev&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   fresh
&lt;span class=&quot;token symbol&quot;&gt;lint&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   ./lint.sh
&lt;span class=&quot;token symbol&quot;&gt;lint-fix&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   ./lint.sh --fix
&lt;span class=&quot;token symbol&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt;
   go test ./...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;but it does mean you can run common tasks simply, e.g. &lt;code class=&quot;language-text&quot;&gt;make build&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;make test&lt;/code&gt;.&lt;/p&gt;
&lt;h3&gt;Linting&lt;/h3&gt;
&lt;p&gt;The Go compiler is pretty good at telling you off for certain things (e.g. importing a package that isn’t used). There’s also the &lt;code class=&quot;language-text&quot;&gt;go fmt&lt;/code&gt; command that will format your code nicely, and this even gets run automatically if you’re using Visual Studio Code.&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4ac2a3dcc287c7c5887e10fbc7d61a24/2bef9/go-compiler.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAEcElEQVQ4y1WV2W7bVhCG/VR9jBYtkBdoUbQ3QfsCvc9FkZteFuhV2sRx7diyrNWyRFGyFlOUuIirRO12JFmS19ja/BWk0gQhMGeGxMHHwfxz5mw9PT2xWCxZr59Yr9cbv1rz9EQQPzzM+fDwyHK5Yj5fBHu/sPni03efteUHl5dXdDo9ut0+ntcJvGU5tNtdOt0L2u0LSobHcc0io7mkVeeTZfQGab1JVnEC6NZqteZ8cIFclZFlGVVVAyuVSsG74zqMh2PEepNYvUHS9EgYzY03PeKyTvSsRkpzg0yDDJ1Gm9FoxM3NDbe3G7u/u+X6aka/16fXPSfvAyWdrGKT0xzSskG23iKSzBANR8lozY/A5YqwUMUwOgz6I/R6i5rRomq0UL0BZbdHTnVpeANc26HjebQaDRzL5GY2ZTyaUJRtsprLow+cL5ds74qUSwZ3dx+4ub3nfDAmlpUJV00iqh1kJ5ktjiWddEUnUayRKmtkz1TOjAahrMJx1drU8HGxYGdXpOH2aZoek9GEQXdIqmJyYrWIay6FepNTw6+dR6SkM+iPubu+5yhR5KhikDSbnKgOcx/oU+PlOsmCSuQoR162yMkW4aJG2vIC4KnRpGS2iGgOf2UK/FGT2Ol5/BaJ8HdEIFVvkv5fFH9JyCb5skIimiddVoiXFKKCFMCimoPoQ602OwmBF6F3fL2/w7d7b/nh8B1/vt1jX5A40RufRclXDOSKTjZbpVhUqJxpZCSDrNYgXbOpWm0kq81hqkAkkmY7IbIbFdhJioQOjonka+T1xqaG/pJXHAp1j2Ld23jDI6+6CJJBoqBRUBxcb0Cz855Wb0S3NaDjDRhdTBgOZ4xHMwa9Icul39jrJ0pnVaSKjGHaKFqdmqJRNy3KFZmKomE1usym11xfX2HbNq7r0vSa2I5Nr9djsZgzmVyxWHxs7PKZTKVSYTDwj14TwzACa3seZr1Ov/+es6pFp9NlMpkwGo+4vLwM4tlsynQ6YTq5+ixKSrY4kUxSJQ1BMsnXHDKSSUFvIvgtozcRc2UymRylsozjtFA1E0U1UTULVTUoFuUNcLVe8zZ8SrXq8vDwyPXNPbc3dxT91pE3jV2w2ogZke3Xu4QPjgjvHbH/b4jwXohY6IjYQZhYJPlR5dWSf7YFXKfP/PGR2eQK/9HtDnHNIaG7lOwO0XiKN/tHiJLEL+kYz09ivBazfB8P81M0ROxEZOkDl+s1b/Zz6FqL88EItWYzHE7JSQZJ3Q2gZ06XN5EEv4cP+bWY5rmY5GcxyVfpEK8KeX5MRnhxmoXFaiPKcc0mXFA5CAkcfjxOMcUmZTSJqg4lt8vOdoh4OMqLgsB3qTDPTsJ8k9jneSbOs/A79ktFnuZLtuaPCxJlneOiwnHilIwgIah2IIagucHPJKuFUNKIZCUyhRovT7K8Sgpk06e8FDKECgVq5ermLPsjvnCqoNQcRLHG1dUtq9WX494f/2v/qliu8Pt2cffIRX/EcDjhdjRlNp4ynV0HV8B/vzd3/g+a8moAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Go Compiler&quot;
        title=&quot;go-compiler&quot;
        src=&quot;/static/4ac2a3dcc287c7c5887e10fbc7d61a24/f058b/go-compiler.png&quot;
        srcset=&quot;/static/4ac2a3dcc287c7c5887e10fbc7d61a24/c26ae/go-compiler.png 158w,
/static/4ac2a3dcc287c7c5887e10fbc7d61a24/6bdcf/go-compiler.png 315w,
/static/4ac2a3dcc287c7c5887e10fbc7d61a24/f058b/go-compiler.png 630w,
/static/4ac2a3dcc287c7c5887e10fbc7d61a24/40601/go-compiler.png 945w,
/static/4ac2a3dcc287c7c5887e10fbc7d61a24/2bef9/go-compiler.png 1024w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;However, if you’d like something more comprehensive, there are plenty of linting tools out there. The one we picked up in our team is &lt;a href=&quot;http://golangci-lint.run&quot; target=&quot;_blank&quot;&gt;golangci-lint&lt;/a&gt; as it has sensible defaults, easy to run (locally, Docker and even &lt;a href=&quot;https://github.com/marketplace/actions/run-golangci-lint&quot; target=&quot;_blank&quot;&gt;GitHub Actions&lt;/a&gt;).&lt;/p&gt;
&lt;h3&gt;Testing&lt;/h3&gt;
&lt;p&gt;Let’s take a look at a HTTP GET request for some users:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; axios &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;axios&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;Users&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;/users.json&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;resp&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; resp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;default&lt;/span&gt; Users&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;if we want to test this in Node.js, we may mock the request library and return a canned response:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;js&quot;&gt;&lt;pre class=&quot;language-js&quot;&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; axios &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;axios&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;import&lt;/span&gt; Users &lt;span class=&quot;token keyword&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;./users&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

jest&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mock&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;axios&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token function&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&apos;should fetch users&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; users &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;name&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&apos;Bob&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;const&lt;/span&gt; resp &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;data&lt;span class=&quot;token operator&quot;&gt;:&lt;/span&gt; users&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    axios&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;get&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;mockResolvedValue&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;resp&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; Users&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token parameter&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;users&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;now let’s see what happens if we took the same approach in Go (using a request library called Resty):&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;go&quot;&gt;&lt;pre class=&quot;language-go&quot;&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; Users &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   Name &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;`json:&quot;name&quot;`&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Users &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   resp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; resty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
       &lt;span class=&quot;token function&quot;&gt;SetResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Users&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
       &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://example.com/users.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;resp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;Users&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In Go, we can’t mock the entire dependency at runtime. Go compiles to a native binary, so we can’t just swap out the loaded module at runtime like we do in Node.js.&lt;/p&gt;
&lt;p&gt;We need a different approach.&lt;/p&gt;
&lt;p&gt;Go has a testing framework built in, so strictly speaking we don’t need any external packages (though you may want to use a package like Testify to simplify boilerplates for spies, assertions, etc).&lt;/p&gt;
&lt;p&gt;Let’s write a test:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;go&quot;&gt;&lt;pre class=&quot;language-go&quot;&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Test_All_ShouldFetchUsers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;testing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   expectedUsers &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; Users&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Timmy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Dylan&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   actualUsers &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;DeepEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expectedUsers&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actualUsers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Errorf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Not the same, expected: %v, actual: %v&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; expectedUsers&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actualUsers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Oh no, we just wrote a test that uses Resty to make a real HTTP request! If the data on the API changes, or the network is down – our tests will fail! They’ll also run slower than they should. This isn’t good.&lt;/p&gt;
&lt;p&gt;What we should be doing, is depending on an interface instead – then we can inject any implementation we want.&lt;/p&gt;
&lt;p&gt;Let’s rewrite our code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;go&quot;&gt;&lt;pre class=&quot;language-go&quot;&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// client now created by consumer of all() &lt;/span&gt;
   client &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; resty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;New&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
       &lt;span class=&quot;token function&quot;&gt;SetResult&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;Users&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   users &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; Users &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   Name &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;`json:&quot;name&quot;`&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; Client &lt;span class=&quot;token keyword&quot;&gt;interface&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// same signature as Resty&apos;s get method&lt;/span&gt;
   &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;resty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Response&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// all now accepts the Client interface&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;client Client&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; Users &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   resp&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; client&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;
              &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;https://example.com/users.json&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   result &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; resp&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Result&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;result&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;Users&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;on lines 3-5, we create the Resty client and pass it in to &lt;code class=&quot;language-text&quot;&gt;all()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;on line 18, we accept an interface &lt;code class=&quot;language-text&quot;&gt;Client&lt;/code&gt; (defined in line 14) – it has the same signature as Resty’s &lt;code class=&quot;language-text&quot;&gt;Get&lt;/code&gt; function, thus Resty (a third party library) implements &lt;strong&gt;OUR&lt;/strong&gt; interface – because interface implementation in Go is implicit&lt;/li&gt;
&lt;li&gt;on lines 19-20, we call the Get() function, just like we were before – but using the passed in client&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;and here’s how we could have written the test:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;go&quot;&gt;&lt;pre class=&quot;language-go&quot;&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;type&lt;/span&gt; MockGetter &lt;span class=&quot;token keyword&quot;&gt;struct&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// Users internal to the mock&lt;/span&gt;
   mockUsers Users
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// Method on our mock struct, but adhere&apos;s to Resty&apos;s Get() signature!&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;r &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;MockGetter&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;url &lt;span class=&quot;token builtin&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;resty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Response&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token builtin&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   &lt;span class=&quot;token comment&quot;&gt;// Creating our own Resty request, with mock users&lt;/span&gt;
   request &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;resty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Request&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Result&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;r&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;mockUsers&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;resty&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;Response&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Request&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; request&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token boolean&quot;&gt;nil&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;func&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;Test_All_ShouldFetchUsers&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;t &lt;span class=&quot;token operator&quot;&gt;*&lt;/span&gt;testing&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;T&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
   expectedUsers &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; Users&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Timmy&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;Name&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&quot;Dylan&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   mock &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;&amp;amp;&lt;/span&gt;MockGetter&lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;mockUsers&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; expectedUsers&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
   actualUsers &lt;span class=&quot;token operator&quot;&gt;:=&lt;/span&gt; &lt;span class=&quot;token function&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;mock&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token keyword&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;!&lt;/span&gt;reflect&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;DeepEqual&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;expectedUsers&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actualUsers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
       t&lt;span class=&quot;token punctuation&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;Errorf&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&quot;Not the same, expected: %v, actual: %v&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; expectedUsers&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; actualUsers&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
   &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;on line 15, we create an instance of the MockGetter (defined on line 1)&lt;/li&gt;
&lt;li&gt;because the &lt;code class=&quot;language-text&quot;&gt;MockGetter&lt;/code&gt; also implements the &lt;code class=&quot;language-text&quot;&gt;Client&lt;/code&gt; interface we defined (see &lt;code class=&quot;language-text&quot;&gt;Get()&lt;/code&gt; on line 7), we can simply pass in the mock to &lt;code class=&quot;language-text&quot;&gt;all()&lt;/code&gt; on line 17.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are things we could further improve here, but I wanted to give an example close to the Node.js approach.&lt;/p&gt;
&lt;h3&gt;Deployment&lt;/h3&gt;
&lt;p&gt;In a nutshell, the Go compiler produces a native binary for the platform of your choice. The runtime is bundled in to the binary – so you don’t need to worry about the target platform having your dependencies installed. For example, if you wanted to produce an ARM build for a Raspberry Pi, you target the ARM architecture and distribute the binary – simple!&lt;/p&gt;
&lt;p&gt;This works great for CLI’s or API’s, and simple to run in Docker, AWS Lambda, etc too.&lt;/p&gt;
&lt;h2&gt;Private Modules&lt;/h2&gt;
&lt;p&gt;Go uses Git over HTTPS by default (&lt;a href=&quot;https://golang.org/doc/faq#git_https&quot; target=&quot;_blank&quot;&gt;documented here&lt;/a&gt;) for safety (safe default and developer experience with corporate firewalls). However it can cause problems when you reference a private repo, with not the most clear error messages:
&lt;code class=&quot;language-text&quot;&gt;go: github.com/myprivateorg/XYZ@v0.1.0: reading github.com/myprivateorg/XYZ/go.mod at revision v0.1.0: unknown revision v0.1.0&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;There’s a couple of things you can do. For local development, you can force usage of SSH (and your private key) by modifying your Git configuration:&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;language-text&quot;&gt;git config --global url.&quot;git@github.com:&quot;.insteadOf &quot;https://github.com/&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Obviously for build pipelines this won’t work, and you may want to make use a token:
&lt;code class=&quot;language-text&quot;&gt;git config --global --add url.https://${GITHUB_TOKEN}@github.com/.insteadOf &quot;https://github.com&quot;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Where &lt;code class=&quot;language-text&quot;&gt;${GITHUB_TOKEN}&lt;/code&gt; is your GitHub token with ‘repo’ access. Obviously this will be slightly different if you use a different version control tool.&lt;/p&gt;
&lt;h2&gt;Learning Materials&lt;/h2&gt;
&lt;p&gt;To finish off, here are some handy resources you can use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;A Tour Of Go: &lt;a href=&quot;https://tour.golang.org/&quot; target=&quot;_blank&quot;&gt;tour.golang.org&lt;/a&gt; – goes through the language and key idioms&lt;/li&gt;
&lt;li&gt;Go Playground:&lt;a href=&quot;https://play.golang.org/&quot; target=&quot;_blank&quot;&gt;play.golang.org&lt;/a&gt; – like the Node.js REPL, but you can share snippets too&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://changelog.com/gotime&quot; target=&quot;_blank&quot;&gt;Go Time Podcast&lt;/a&gt; – Great panel show that is easy to listen to&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;That’s all, feel free to tweet me &lt;code class=&quot;language-text&quot;&gt;@AdrianLThomas&lt;/code&gt; with any comments.&lt;/p&gt;
&lt;p&gt;Thanks for reading!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Making a Smart TV Dumber]]></title><description><![CDATA[I recently purchased a shiny new 4K Samsung TV. It’s brilliant, but it’s nearly impossible to buy one without ‘smart’ capabilities (e.g…]]></description><link>https://www.adrian-thomas.com/blog/2021-10-04/marking-a-smart-tv-dumber/</link><guid isPermaLink="false">https://www.adrian-thomas.com/blog/2021-10-04/marking-a-smart-tv-dumber/</guid><pubDate>Mon, 04 Oct 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;I recently purchased a shiny new 4K Samsung TV. It’s brilliant, but it’s nearly impossible to buy one without ‘smart’ capabilities (e.g. Google Home, Alexa, Bixby, etc). There’s &lt;a href=&quot;https://www.kaspersky.co.uk/resource-center/threats/is-your-smart-tv-spying-on-you&quot; target=&quot;_blank&quot;&gt;plenty of security reasons why Smart TVs are bad&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This post is how to make it a bit dumber (but not brain dead!). I like that I can use my TV for streaming movies over the local network, but I don’t care for having apps running on it (Netflix works just fine on the PS5 thanks!), so I wanted to block all outbound internet activity for it.&lt;/p&gt;
&lt;p&gt;In the end, this was quite simple. First, I ensured that the TV was assigned a static IP address. The easiest way for me to do this was from &lt;a href=&quot;https://pi-hole.net/&quot; target=&quot;_blank&quot;&gt;Pi-hole&lt;/a&gt; that I use as a DHCP server, and then assigned a static DHCP lease:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/2f3f8a61314b4854eef3b59bbce3d347/eaf69/pihole-dhcp.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAA7CAAAOwgEVKEqAAAACcklEQVQ4y42UWXIlJxBFX7TX4J9ut4ZXBUUNFEUx1fAmWR0Ohzdge/8LOQ6QbEvqD/vjAplBXO4lEw5CCOpaMHQ1aVvo5wXjEnPcsHFlihsu7SWewoYNC5NfSs4vJ3zaUG2PqGuklBykEFRCMFU1q3O0k8PGE/vlidlHjHXMIWF9Im4XtvO1kJjZY6zHuIjqXgizuEMecqDGCe1XajVg0gW3XRn9QjcFWuNoBotdzizXb2i3MsyJIbuJO43qqP8mzDJz0GvDFFZkb7BpZ3/6Bb9dGeaIjXshsOlM2K+YsBbkKwj7Dana9wozYTeMhVBpy1g2PhUC7RZGvxZVU9zx24WwXcsho0u0xtO03RtCKUvQaUNvA6IbcWnjdL4QYmL24R84H/AhFuRYG4uZHar9YFm8WtZzoG6HYrPpNPdHwUPdcPdYc3eseaglX+6PBV8fa5y16Lz3ncJiuXohdAmlZyo1cDgc/hO/3yzr5UbX66KwtI14LUrb63JaO/4/wh8+feLPnz0mLC9FEW/bJqNpkf2EHCbSnFgnTxgmRtGihUJ/mK0aeI4LJ7fQqfbfOxRCvhCqjmaYCsI4c5Qtd3XDT481D7Lly2PN54eq5DLy+sevD/SiZWx7qneNLWqk6orCRlvmZkDcH+mbnuYoMf2IbjWqauhlh+kNnexQQnGZLVp1VN9ZflUoeoOPO7frM9t6IcWNJe4s6USKe4nXvA4bbo643LtvX8pHy/mljHFnWm9M6xWzZFww65Uxncts1lvJ63jC/fYHSk/UVYUoVX61/JawM740eZ5N/m3Cjp9XTs+/4vyG0Y7OhrIn/05NqXLmkfwF10XCTNU8p+kAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Pi-hole static IP address assignment&quot;
        title=&quot;Pi-hole static IP address assignment&quot;
        src=&quot;/static/2f3f8a61314b4854eef3b59bbce3d347/f058b/pihole-dhcp.png&quot;
        srcset=&quot;/static/2f3f8a61314b4854eef3b59bbce3d347/c26ae/pihole-dhcp.png 158w,
/static/2f3f8a61314b4854eef3b59bbce3d347/6bdcf/pihole-dhcp.png 315w,
/static/2f3f8a61314b4854eef3b59bbce3d347/f058b/pihole-dhcp.png 630w,
/static/2f3f8a61314b4854eef3b59bbce3d347/40601/pihole-dhcp.png 945w,
/static/2f3f8a61314b4854eef3b59bbce3d347/78612/pihole-dhcp.png 1260w,
/static/2f3f8a61314b4854eef3b59bbce3d347/eaf69/pihole-dhcp.png 1701w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Notice the IP address I set that will always be assigned to the MAC address (of the TV).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Then in my router configuration I configured IPv4 port filtering to block all internet traffic. This is what it looks like on my Virgin Hub 3:&lt;/p&gt;
&lt;p&gt;&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/1ff84/virgin-ipfiltering.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 105.0632911392405%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAIAAADJt1n/AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACVklEQVQ4y6WSzU4UQRDH5xWIIRgNRhJZVEiIhqOePHnQI/oAkPAcfGzUxV3Eg4kefAhOC49h4MIVzDJM73R3zfT0Z5WZ7V1YSTCiv1Qqne78uz6TZ7dmXk7cezr5YHaq0bhit+caU3Pz0wuL9xcf3nk0O9WYn15Ymnny4u7S84mFx5ON5MtG6/tm6/PWdrvZvmrrH9qb251me+ddp7PRam+0Os2Pu+8/fWvufl3v7Gy1E48Y6BpUSSBJcGLnVACxjPqsvhmRFFAAgFJKa+29D95747xxTltvHTqH2mBVofNoTDAGjcEQMGDwITHaAIAQAgAQkYgKBjLl/Ge/FIWxtkLSRIZqr63VI0IIiTVGSFGWJQ4hpPrf2hN6pfzBge92fbcb9ve9EJ4ohBC8R8REKQUAUBRa6xh5SDwD0Noara7SykrtT08vn4gSrXXMWSkVxWVZ9no9ADhP097ZGZeSC5H1+1zKNE2zjHHOGWMAkCBiVek62frHQc1FcXJyCkXBWJamqQTgXDDGpJSMMc4FFzzP87Iso1iFEC5y9t5b54YNGFSIiCGEmC0SevSDWJQQUZ7nEuCi2LoFUvIBYkCe5/HMOffeX86ZiFxROMZQVcPVqMqiAGOMH2GHOGvteFNrMQjB0tQbO0rbVVVljDHWmgG/TWGMWlwqpY0Zm1FdYSRGxvH5aU1VVVsIsWEVXqzIdcSn42NaXqa3b+j1K9rbq8Vu1Ns/iYf9UHR4SEdH9OMHZVmCIdhBVX8lvlLzzSLH/KMRJc65uNX/EtkaI6WMa3RjMf0HvwD+bXsjQkrg3gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Virgin Hub 3 IPv4 IP Filtering&quot;
        title=&quot;Virgin Hub 3 IPv4 IP Filtering&quot;
        src=&quot;/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/f058b/virgin-ipfiltering.png&quot;
        srcset=&quot;/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/c26ae/virgin-ipfiltering.png 158w,
/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/6bdcf/virgin-ipfiltering.png 315w,
/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/f058b/virgin-ipfiltering.png 630w,
/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/40601/virgin-ipfiltering.png 945w,
/static/ac93f4a91fd2a3dfe4eb7a3ef4cba428/1ff84/virgin-ipfiltering.png 1040w&quot;
        sizes=&quot;(max-width: 630px) 100vw, 630px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;p&gt;The TV now has no in/outbound internet traffic, but it can still talk to the local network to serve up media. Perfect!&lt;/p&gt;</content:encoded></item><item><title><![CDATA[The Beginning]]></title><description><![CDATA[Well, it’s been nearly 5 years since I last wrote any kind of personal blog. I’ve written several posts for employers (a few pieces on…]]></description><link>https://www.adrian-thomas.com/blog/2021-09-06/the-beginning/</link><guid isPermaLink="false">https://www.adrian-thomas.com/blog/2021-09-06/the-beginning/</guid><pubDate>Mon, 06 Sep 2021 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Well, it’s been nearly &lt;a href=&quot;https://adrianlucathomas.blogspot.com/&quot;&gt;5 years&lt;/a&gt; since I last wrote any kind of personal blog. I’ve written several posts for employers (a few pieces on NodeJS, Golang, GitHub Actions, etc.), but I finally got my act together and put something under my own domain. I’ve been writing lots of React lately, and also Gatsby in my own time - so it felt like a good idea to start off with the &lt;a href=&quot;https://gatsbystarterblogsource.gatsbyjs.io/&quot;&gt;Gatsby Starter Blog&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I introduced &lt;a href=&quot;https://styled-components.com/&quot;&gt;styled-components&lt;/a&gt; and &lt;a href=&quot;https://eslint.org/&quot;&gt;ESLint&lt;/a&gt; and put something basic together (that I plan to improve over time).&lt;/p&gt;
&lt;p&gt;I’m going to use this platform for trying out some new tooling (maybe take a look at the &lt;a href=&quot;https://github.com/AdrianLThomas/AdrianLThomas.github.io/issues&quot;&gt;issues here&lt;/a&gt; for a sneek peak), but I’ll also write about my hobbies (see the header!).&lt;/p&gt;
&lt;p&gt;Also, because I’m a proper Yorkshireman - this blog runs on &lt;a href=&quot;https://pages.github.com/&quot;&gt;GitHub Pages&lt;/a&gt; for free, with the DNS &amp;#x26; CDN managed at &lt;a href=&quot;https://www.cloudflare.com/&quot;&gt;Cloudflare&lt;/a&gt; for free. I build this blog on &lt;a href=&quot;https://github.com/features/actions&quot;&gt;GitHub Actions&lt;/a&gt; for… free. I suppose I do pay a few quid a year for the domain…&lt;/p&gt;
&lt;p&gt;That’s all for now!&lt;/p&gt;</content:encoded></item></channel></rss>